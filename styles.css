:root{
  --bg:#0f1221;
  --card:#171a2b;
  --muted:#9aa0b4;
  --text:#f4f6ff;
  --accent:#6ee7b7;
  --accent-2:#60a5fa;
  --danger:#ef4444;
  --line:#283047;
  --chip:#232844;
  --focus:#94a3b8;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 10% -10%, #1c2140 0%, #0d1020 50%, #0a0c18 100%), var(--bg);
  color:var(--text);
}

.app-header{
  padding:20px 16px 8px;
}
.app-header h1{
  margin:0 0 10px;
  font-size:clamp(22px,4vw,30px);
  letter-spacing:.3px;
}

.tabs{display:flex; gap:8px; flex-wrap:wrap}
.tab{
  background:transparent; color:var(--muted);
  border:1px solid var(--line); border-radius:10px;
  padding:8px 12px; cursor:pointer;
}
.tab.active{color:var(--text); border-color:var(--accent-2); box-shadow:0 0 0 2px #60a5fa22 inset}

main{padding:12px 16px 60px; max-width:1100px; margin:0 auto}

.view{display:none}
.view.active{display:block; animation:fade .25s ease-out}
@keyframes fade{from{opacity:.3; transform:translateY(6px)} to{opacity:1; transform:none}}

.card{
  background:linear-gradient(180deg,#171a2b 0%, #14182a 100%);
  border:1px solid var(--line);
  border-radius:14px; padding:16px;
  box-shadow:0 20px 45px #0000004a;
}

.field{margin:12px 0}
.field label, .field legend{display:block; margin-bottom:8px; color:var(--text)}
.field input[type="text"],
.field input[type="date"],
.field input[type="number"],
.field select{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid var(--line); background:#0f1324; color:var(--text);
  outline:none;
}
.field input:focus, .field select:focus{border-color:var(--focus); box-shadow:0 0 0 3px #93c5fd22}

.radio-row{display:flex; gap:16px; flex-wrap:wrap}
.radio{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; background:var(--chip); border-radius:999px; border:1px solid var(--line)}
.date-row{margin-top:8px; display:flex; gap:12px; align-items:center}
.date-row input[disabled]{opacity:.5; cursor:not-allowed}

.check-grid{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:10px;
}
.check-grid label{
  background:var(--chip); padding:8px 10px; border-radius:10px;
  border:1px solid var(--line); display:flex; gap:8px; align-items:center;
}
.check-grid label input[type="text"]{
  margin-left:auto; width:50%;
}

.actions{display:flex; justify-content:flex-end; margin-top:16px}
.btn{
  background:#1e293b; color:var(--text); border:1px solid var(--line);
  border-radius:10px; padding:10px 14px; cursor:pointer;
}
.btn:hover{filter:brightness(1.05)}
.btn.primary{background:linear-gradient(180deg,#3b82f6,#2563eb); border-color:#1d4ed8}
.btn.danger{background:linear-gradient(180deg,#ef4444,#dc2626); border-color:#b91c1c}

.subheader{display:flex; justify-content:space-between; align-items:flex-start; gap:12px}
.subheader h2{margin:0 0 4px}
.muted{color:var(--muted); margin:0}

.table-wrap{
  overflow:auto;
  border:1px solid var(--line); border-radius:12px; margin-top:12px;
}
table{border-collapse:separate; border-spacing:0; width:100%; min-width:720px}
thead th{
  position:sticky; top:0; background:#13182a; border-bottom:1px solid var(--line);
  text-align:left; padding:10px; font-weight:600;
}
tbody td, tfoot th, tfoot td{
  border-top:1px solid var(--line);
  padding:10px; vertical-align:top;
}
tbody tr:hover{background:#12172c}

.sets-pairs{
  display:grid; gap:8px;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
}
.pair{
  display:grid; grid-template-columns:1fr 1fr; gap:8px;
}
.pair input{
  width:100%; padding:8px 10px; border-radius:8px; border:1px solid var(--line);
  background:#0f1324; color:var(--text);
}

.builder-footer{
  display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:12px;
}
.totals{display:flex; gap:14px; flex-wrap:wrap}
.totals strong{color:var(--accent)}

.builder-actions{display:flex; gap:8px; flex-wrap:wrap}

.chart-wrap{
  background:#0f1324; border:1px solid var(--line); border-radius:12px;
  padding:10px; margin-top:12px;
}

.filters{
  display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-bottom:12px;
}
.filters label{display:flex; align-items:center; gap:6px}
.filters select{padding:8px 10px; border-radius:8px; border:1px solid var(--line); background:#0f1324; color:var(--text)}
.spacer{flex:1}

dialog{
  border:1px solid var(--line); border-radius:14px; padding:0; background:#14182a; color:var(--text);
  max-width:800px; width:min(92vw,800px);
}
dialog::backdrop{background:#0006}
dialog .summary{padding:16px}
dialog h3{margin:0 0 6px}
dialog menu{display:flex; justify-content:flex-end; gap:8px; margin:12px 0 0; padding:0}

.app-footer{padding:20px 16px 40px; text-align:center; color:var(--muted); font-size:.9rem}

/* Small tweaks */
#sessionSummary code{background:#0f1324; padding:2px 6px; border-radius:6px; border:1px solid var(--line)}
.remove-row{
  background:#2b2f43; border:1px solid var(--line); color:#fdd;
  padding:8px 10px; border-radius:8px; cursor:pointer;
}
.remove-row:hover{background:#3b3f54}
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance: none; margin: 0; }
